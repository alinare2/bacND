{"ast":null,"code":"var _jsxFileName = \"/Users/ppenderg/Documents/GitHub/bacND/ReactApp/frontend/src/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport Axios from 'axios';\nimport React, { useState, useContext, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/React.createContext();\nexport function useAuth() {\n  _s();\n  return useContext(AuthContext);\n}\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default function AuthProvider(_ref) {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [currentUser, setCurrentUser] = useState(-1);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  function signup(accountDetails) {\n    // Signup here\n    Axios.post(\"http://db8.cse.nd.edu/cse30246/bacND/server/postSignup.php\", accountDetails).then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  function login(username, password) {\n    // Query server with POST\n    // Get back session key and user_id if valid\n    const request = {\n      'username': username,\n      'password': password\n    };\n    Axios.post(\"http://db8.cse.nd.edu/cse30246/bacND/server/postLogin.php\", request).then(response => {\n      console.log(response.data);\n      //setCurrentUser(response.data);\n      sessionStorage.setItem(\"userId\", response.data);\n      sessionStorage.setItem(\"isLoggedIn\", true);\n      //setIsLoggedIn(true);\n      return response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  function logout() {\n    sessionStorage.setItem(\"userId\", -1);\n    sessionStorage.setItem(\"isLoggedIn\", false);\n  }\n  const value = {\n    currentUser,\n    isLoggedIn,\n    signup,\n    login,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 17\n  }, this);\n}\n_s2(AuthProvider, \"Dhda5xnbwcJ2dkRH2nKkfmfNXS4=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["Axios","React","useState","useContext","useEffect","AuthContext","createContext","useAuth","AuthProvider","children","currentUser","setCurrentUser","isLoggedIn","setIsLoggedIn","signup","accountDetails","post","then","response","console","log","data","catch","error","login","username","password","request","sessionStorage","setItem","logout","value"],"sources":["/Users/ppenderg/Documents/GitHub/bacND/ReactApp/frontend/src/AuthContext.js"],"sourcesContent":["import Axios from 'axios';\nimport React, {useState, useContext, useEffect} from 'react';\n\n\nconst AuthContext = React.createContext();\nexport function useAuth() {\n    return useContext(AuthContext)\n}\nexport default function AuthProvider({children}){\n        const [currentUser, setCurrentUser] = useState(-1);\n        const [isLoggedIn, setIsLoggedIn] = useState(false);\n        \n\n        function signup(accountDetails){\n            // Signup here\n            Axios.post(\"http://db8.cse.nd.edu/cse30246/bacND/server/postSignup.php\", accountDetails).then((response) =>{\n                console.log(response.data);\n            }).catch((error) =>{\n                console.log(error);\n            });\n\n        }\n\n        function login(username, password){\n            // Query server with POST\n            // Get back session key and user_id if valid\n            const request = {'username': username, 'password': password};\n            Axios.post(\"http://db8.cse.nd.edu/cse30246/bacND/server/postLogin.php\", request).then((response) =>{\n                console.log(response.data);\n                //setCurrentUser(response.data);\n                sessionStorage.setItem(\"userId\", response.data);\n                sessionStorage.setItem(\"isLoggedIn\", true);\n                //setIsLoggedIn(true);\n                return(response.data);\n            \n            }).catch((error) => {\n                console.log(error);\n            })\n        }\n\n        function logout(){\n            sessionStorage.setItem(\"userId\", -1);\n            sessionStorage.setItem(\"isLoggedIn\", false);\n        }  \n\n        const value = {\n            currentUser,\n            isLoggedIn,\n            signup, \n            login,\n            logout\n        };\n\n            return (\n                <AuthContext.Provider value={value}>\n                    {children}\n                </AuthContext.Provider>\n\n            );\n        \n     \n}"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAGC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAO,OAAO;AAAC;AAG7D,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,EAAE;AACzC,OAAO,SAASC,OAAO,GAAG;EAAA;EACtB,OAAOJ,UAAU,CAACE,WAAW,CAAC;AAClC;AAAC,GAFeE,OAAO;AAGvB,eAAe,SAASC,YAAY,OAAY;EAAA;EAAA,IAAX;IAACC;EAAQ,CAAC;EACvC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAGnD,SAASY,MAAM,CAACC,cAAc,EAAC;IAC3B;IACAf,KAAK,CAACgB,IAAI,CAAC,4DAA4D,EAAED,cAAc,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAI;MACvGC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;IAC9B,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAI;MACfJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;IACtB,CAAC,CAAC;EAEN;EAEA,SAASC,KAAK,CAACC,QAAQ,EAAEC,QAAQ,EAAC;IAC9B;IACA;IACA,MAAMC,OAAO,GAAG;MAAC,UAAU,EAAEF,QAAQ;MAAE,UAAU,EAAEC;IAAQ,CAAC;IAC5D1B,KAAK,CAACgB,IAAI,CAAC,2DAA2D,EAAEW,OAAO,CAAC,CAACV,IAAI,CAAEC,QAAQ,IAAI;MAC/FC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC1B;MACAO,cAAc,CAACC,OAAO,CAAC,QAAQ,EAAEX,QAAQ,CAACG,IAAI,CAAC;MAC/CO,cAAc,CAACC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;MAC1C;MACA,OAAOX,QAAQ,CAACG,IAAI;IAExB,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAChBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEA,SAASO,MAAM,GAAE;IACbF,cAAc,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACpCD,cAAc,CAACC,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC;EAC/C;EAEA,MAAME,KAAK,GAAG;IACVrB,WAAW;IACXE,UAAU;IACVE,MAAM;IACNU,KAAK;IACLM;EACJ,CAAC;EAEG,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEC,KAAM;IAAA,UAC9BtB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAKvC;AAAC,IArDuBD,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}